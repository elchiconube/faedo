---
import Layout from '../../components/Layout.astro';
import Breadcrumbs from '../../components/Breadcrumbs.astro';
import PostCard from '../../components/Cards/PostCard.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort((a,b) => +b.data.date - +a.data.date);
---
<Layout title="Blog: senderismo en León" description="Artículos SEO sobre la Ruta del Faedo de Ciñera, consejos y senderismo en León">
  <Breadcrumbs items={[{ href: '/', label: 'Inicio' }, { href: '/blog', label: 'Blog' }]} />
  <section class="container py-8">
    <h1 class="text-2xl mb-4">Blog</h1>
    <div class="grid md:grid-cols-3 gap-6">
      {posts.map((p) => (
        <PostCard title={p.data.title} excerpt={p.data.excerpt} href={`/blog/${p.slug}`} cover={p.data.coverImage} date={p.data.date.toISOString()} tags={p.data.tags} />
      ))}
    </div>
  </section>
</Layout>
